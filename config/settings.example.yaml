discovery:
  mode: ytdlp_first
  providers:
    - ytdlp
    - youtube_api
    - jamendo
    - spotify
    - musicbrainz
  youtube_api_key_env: YOUTUBE_API_KEY
  max_results: 5
  ranking_weights:
    title_similarity: 0.50
    artist_similarity: 0.30
    duration_sanity: 0.20

listen:
  default_mode: auto

spotify:
  enabled: true
  client_id_env: SPOTIFY_CLIENT_ID
  client_secret_env: SPOTIFY_CLIENT_SECRET
  market: US
  request_timeout_sec: 10

jamendo:
  enabled: true
  client_id_env: JAMENDO_CLIENT_ID
  request_timeout_sec: 10
  max_results: 10

descriptors:
  enabled: true
  providers:
    - acousticbrainz
    - deezer
  request_timeout_sec: 10
  min_confidence: 0.45

retrieval:
  output_format: wav
  audio_quality: "0"
  max_track_minutes: 12
  timeout_sec: 30

analysis:
  profile: deep
  sample_rate: 22050
  enable_essentia: false
  enable_demucs: false

lyrics:
  enabled: true
  provider_order:
    - lrclib
  request_timeout_sec: 10
  max_chars: 12000
  min_text_chars: 120
  include_in_cache: true
  allow_asr_fallback: false
  asr_model_size: small

cache:
  root_dir: ./cache
  sqlite_path: ./cache/index.sqlite
  query_ttl_sec: 604800
  max_audio_files: 500

fallback:
  allow_musicbrainz_metadata_only: true
  allow_partial_analysis: true
